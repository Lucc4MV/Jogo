<html>
    <body>
        <style>
             
            .player-options img, .enemy-options img{
                max-width: 50%;
                opacity: 0.3;
                cursor: pointer;
            }
            .enemy-options, .player-options{
                width: 50%;
            }

            .align{
                display: flex;
            }
        </style>

        <h1 style="text-align: center;"> Pedra, Papel e Tesoura!</h1>
        <h2  style="text-align: center;" class="vencedor"></h2>
        <hr>
        <div class="align">
            <div class="player-options">
                <div><img  opt="papel" src="paper.png"></div>
                <div><img opt="pedra" src="rock.png"></div>
                <div><img opt="tesoura" src="scisor.png"></div>
            </div>
    
            <div class="enemy-options">
                <div><img opt="papel" src="paper.png"></div>
                <div><img opt="pedra" src="rock.png"></div>
                <div><img opt="tesoura" src="scisor.png"></div>
            </div>
     </div>
    </body>

    <script>
        var elementos = document.querySelectorAll ('.player-options div > img');
        var playerOpt = ""; 
        var inimigoOpt = "";

        function validarVitoria(){

            let vencedor = document.querySelector('.vencedor');

            if( playerOpt == 'papel'){
                if(inimigoOpt == 'papel'){
                    //emprate
                    vencedor.innerHTML = 'O jogo foi empatado';
                }else if(inimigoOpt == 'tesoura'){
                    //inimigo Ganhou 
                    vencedor.innerHTML = 'O inimigo ganhou';
                }else if(inimigoOpt == 'pedra'){
                    //player Ganhou
                    vencedor.innerHTML = 'O player foi ganhou';
                }
            }


            if( playerOpt == 'tesoura'){
                if(inimigoOpt == 'papel'){
                    //ganhou
                    vencedor.innerHTML = 'O player foi ganhou';
                }else if(inimigoOpt == 'tesoura'){
                    //empate 
                    vencedor.innerHTML = 'O jogo foi empatado';
                }else if(inimigoOpt == 'pedra'){
                    //inimigo Ganhou
                    vencedor.innerHTML = 'O inimigo ganhou';
                }
            }

            if( playerOpt == 'pedra'){
                if(inimigoOpt == 'papel'){
                    //ganhou
                    vencedor.innerHTML = 'O inimigo foi ganhou';
                }else if(inimigoOpt == 'tesoura'){
                    //inimigo ganhou 
                    vencedor.innerHTML = 'O player ganhou';
                }else if(inimigoOpt == 'pedra'){
                    //empate
                    vencedor.innerHTML = 'O jogo foi empatado';
                }
            }
        }
        
        function resetInimigo(){
            const enemyOptions = document.querySelectorAll('.enemy-options div');
            for(var i = 0; i < enemyOptions.length; i++){
                enemyOptions[i].childNodes[0].style.opacity = 0.3; 
            }
        }

        function inimigojogar(){
            let rand = Math.floor(Math.random()*3); 
            const enemyOptions = document.querySelectorAll('.enemy-options div'); 
            resetInimigo();
            for(var i = 0; i < enemyOptions.length; i++){
                if(i == rand){
                    enemyOptions[i].childNodes[0].style.opacity = 1; 
                    inimigoOpt =  enemyOptions[i].childNodes[0].getAttribute('opt');
                }
            }


            validarVitoria();

            //alert(playerOpt);
            //alert(inimigoOpt); 

        }



        function resetOpacityPlayer(){
            for( i = 0 ; i < elementos.length; i++){
                elementos[i].style.opacity = 0.3;
            }
            }

        for( i = 0 ; i < elementos.length; i++){
            elementos[i].addEventListener('click', function(t){
                resetOpacityPlayer();
              t.target.style.opacity = 1;
              playerOpt = t.target.getAttribute('opt');

              inimigojogar();
            })
        }
    </script>
</html>